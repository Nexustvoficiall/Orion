<!-- üåå GERADOR ORION - HOME COM CARROSSEL 3D COMPLETO -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Orion Creator üöÄ - Painel</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="css/mobile-fixes.css" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: radial-gradient(circle at top, #0a0118, #0f0526, #1a0b3d);
      color: white;
      overflow-x: hidden;
    }
    
    /* Header mobile - escondido em desktop */
    .mobile-header {
      display: none;
    }

    /* ESTRELAS ANIMADAS */
    .stars {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      background: transparent url('https://www.transparenttextures.com/patterns/stardust.png') repeat;
      animation: moveStars 120s linear infinite;
      z-index: -1;
      opacity: 0.3;
    }

    @keyframes moveStars {
      from { background-position: 0 0; }
      to { background-position: -10000px 5000px; }
    }

    /* ==================== HERO SECTION GAL√ÅCTICA ==================== */
    .hero-galactic {
      position: relative;
      width: 100%;
      max-width: 900px;
      margin: 1rem auto 2rem;
      padding: 1.5rem 2rem;
      background: linear-gradient(135deg, rgba(10, 10, 30, 0.95) 0%, rgba(20, 15, 45, 0.95) 100%);
      border-radius: 20px;
      overflow: hidden;
      backdrop-filter: blur(20px);
      border: 1px solid rgba(168, 85, 247, 0.2);
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.4),
        0 0 60px rgba(168, 85, 247, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      transition: all 0.4s ease;
    }

    .hero-galactic:hover {
      transform: translateY(-2px);
      box-shadow: 
        0 12px 40px rgba(0, 0, 0, 0.5),
        0 0 80px rgba(168, 85, 247, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
      border-color: rgba(168, 85, 247, 0.4);
    }

    /* Gradiente animado na borda */
    .hero-galactic::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 20px;
      padding: 1px;
      background: linear-gradient(135deg, #a855f7, #6366f1, #8b5cf6, #a855f7);
      background-size: 300% 300%;
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      animation: gradientRotate 6s ease infinite;
      opacity: 0.6;
      pointer-events: none;
    }

    @keyframes gradientRotate {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    /* Brilho rotativo de fundo */
    .hero-galactic::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(168, 85, 247, 0.08) 0%, transparent 60%);
      animation: rotateGlow 15s linear infinite;
      z-index: 0;
      pointer-events: none;
    }

    @keyframes rotateGlow {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .hero-particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      pointer-events: none;
      z-index: 1;
    }

    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      background: rgba(168, 85, 247, 0.6);
      border-radius: 50%;
      animation: floatParticle 8s ease-in-out infinite;
      box-shadow: 0 0 6px rgba(168, 85, 247, 0.6);
    }

    @keyframes floatParticle {
      0%, 100% {
        transform: translateY(0) translateX(0) scale(1);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) translateX(50px) scale(0);
        opacity: 0;
      }
    }

    .hero-content {
      position: relative;
      z-index: 2;
      text-align: center;
    }

    .hero-title {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(1.3rem, 4vw, 2rem);
      font-weight: 900;
      background: linear-gradient(135deg, #a855f7, #6366f1, #8b5cf6, #a855f7);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientShift 4s ease infinite;
      margin: 0 0 0.5rem 0;
      text-shadow: 0 0 30px rgba(168, 85, 247, 0.4);
      letter-spacing: 1px;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .hero-subtitle {
      font-size: clamp(0.95rem, 2.5vw, 1.15rem);
      font-weight: 400;
      color: rgba(255, 255, 255, 0.85);
      margin: 0 0 1.2rem 0;
      line-height: 1.4;
    }

    .hero-question {
      font-family: 'Orbitron', sans-serif;
      font-size: clamp(1.1rem, 3vw, 1.5rem);
      font-weight: 700;
      color: #fff;
      margin: 1rem 0 0.8rem 0;
      padding: 0.8rem 1.5rem;
      background: linear-gradient(135deg, rgba(168, 85, 247, 0.3), rgba(99, 102, 241, 0.3));
      border-radius: 12px;
      border: 2px solid rgba(168, 85, 247, 0.5);
      box-shadow: 
        0 0 20px rgba(168, 85, 247, 0.4),
        0 0 40px rgba(99, 102, 241, 0.2),
        inset 0 0 20px rgba(168, 85, 247, 0.1);
      position: relative;
      overflow: hidden;
      animation: pulseGlow 3s ease-in-out infinite;
    }

    .hero-question::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transform: rotate(45deg);
      animation: shine 3s ease-in-out infinite;
    }

    @keyframes pulseGlow {
      0%, 100% {
        box-shadow: 
          0 0 20px rgba(168, 85, 247, 0.4),
          0 0 40px rgba(99, 102, 241, 0.2),
          inset 0 0 20px rgba(168, 85, 247, 0.1);
        transform: scale(1);
      }
      50% {
        box-shadow: 
          0 0 30px rgba(168, 85, 247, 0.6),
          0 0 60px rgba(99, 102, 241, 0.4),
          inset 0 0 30px rgba(168, 85, 247, 0.2);
        transform: scale(1.02);
      }
    }

    @keyframes shine {
      0% {
        left: -100%;
      }
      100% {
        left: 100%;
      }
    }

    .hero-question .emoji {
      display: inline-block;
      animation: float 2s ease-in-out infinite;
      margin-right: 0.3rem;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-5px);
      }
    }

    .hero-description {
      font-size: clamp(0.85rem, 2vw, 0.95rem);
      font-weight: 300;
      color: rgba(255, 255, 255, 0.7);
      margin: 0;
      line-height: 1.6;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-divider {
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, transparent, #a855f7, transparent);
      margin: 1rem auto;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(168, 85, 247, 0.6);
    }

    .hero-sparkles {
      display: inline-block;
      font-size: 1.2rem;
      animation: sparkle 2s ease-in-out infinite;
    }

    @keyframes sparkle {
      0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.8; }
      50% { transform: scale(1.3) rotate(180deg); opacity: 1; }
    }

    @media (max-width: 768px) {
      .hero-galactic {
        margin: 0.8rem auto 1.5rem;
        padding: 1.2rem 1rem;
      }
      
      .hero-title {
        font-size: 1.3rem;
      }
      
      .hero-subtitle {
        font-size: 0.9rem;
      }

      .hero-question {
        font-size: 1rem;
        padding: 0.6rem 1rem;
        margin: 0.8rem 0 0.6rem 0;
      }

      .hero-description {
        font-size: 0.8rem;
      }
      
      /* üì± LOGO MOBILE - REDUZIDA E HIERARQUIA */
      .logo {
        width: 100px !important;
        max-height: 36px !important;
        object-fit: contain;
        margin-bottom: 12px !important;
      }

      /* Welcome user mobile - MENOR */
      #welcome-user {
        font-size: 13px !important;
        color: rgba(255, 255, 255, 0.65) !important;
        margin: 6px 0 !important;
        font-weight: 400 !important;
      }

      /* Hero t√≠tulo mobile - HIERARQUIA CLARA */
      #hero-greeting {
        font-size: 0.85rem;
        font-weight: 400;
        opacity: 0.8;
      }

      #hero-user-name {
        font-size: 1rem;
        font-weight: 900;
        display: inline-block;
      }

      .hero-sparkles {
        font-size: 0.9rem;
      }
    }

    .container {
      text-align: center;
      padding: 40px 20px;
      transition: margin-left 0.3s;
    }

    .logo {
      width: 220px;
      margin-bottom: 35px;
      filter: drop-shadow(0 0 15px #a855f7);
    }

    #welcome-user {
      display: none;
    }

    /* ==================== CARROSSEL NETFLIX - 3 CARDS FIXOS ==================== */
    .carousel-3d {
      position: relative;
      width: 100%;
      max-width: 1400px;
      margin: 40px auto 60px;
      padding: 0 80px;
      overflow: visible;
      z-index: 1;
    }

    .carousel-3d-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
      padding: 40px 0;
      perspective: 1200px;
      height: 580px;
      position: relative;
    }

    /* CARD INDIVIDUAL */
    .carousel-3d-item {
      position: absolute;
      width: 340px;
      height: 500px;
      border-radius: 20px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
      box-shadow: 0 15px 50px rgba(0,0,0,0.5);
      background: #0a0a1e;
      opacity: 0;
      pointer-events: none;
      transform: scale(0.7) translateX(0);
    }

    /* Card da esquerda */
    .carousel-3d-item.pos-left {
      opacity: 0.7;
      pointer-events: auto;
      transform: scale(0.85) translateX(-380px) rotateY(8deg);
      filter: brightness(0.6);
      z-index: 1;
    }

    /* Card central (ativo) */
    .carousel-3d-item.pos-center {
      opacity: 1;
      pointer-events: auto;
      transform: scale(1) translateX(0) rotateY(0);
      filter: brightness(1);
      z-index: 10;
      box-shadow: 
        0 30px 80px rgba(0,0,0,0.7),
        0 0 50px rgba(168, 85, 247, 0.25);
    }

    /* Card da direita */
    .carousel-3d-item.pos-right {
      opacity: 0.7;
      pointer-events: auto;
      transform: scale(0.85) translateX(380px) rotateY(-8deg);
      filter: brightness(0.6);
      z-index: 1;
    }

    /* Hover nos cards laterais */
    .carousel-3d-item.pos-left:hover,
    .carousel-3d-item.pos-right:hover {
      opacity: 0.9;
      filter: brightness(0.8);
    }

    /* Hover no card central */
    .carousel-3d-item.pos-center:hover {
      transform: scale(1.05) translateY(-10px);
      box-shadow: 
        0 40px 100px rgba(0,0,0,0.8),
        0 0 80px rgba(168, 85, 247, 0.4);
    }

    .carousel-3d-item .card-bg {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      transition: all 1.2s cubic-bezier(0.4, 0.0, 0.2, 1);
      will-change: opacity, transform;
      backface-visibility: hidden;
      transform: translateZ(0) scale(1);
    }

    .carousel-3d-item .card-bg.fade-out {
      opacity: 0;
      transform: translateZ(0) scale(1.05);
    }

    .carousel-3d-item .card-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(
        180deg, 
        rgba(10,1,24,0) 0%,
        rgba(10,1,24,0.2) 35%,
        rgba(10,1,24,0.85) 65%,
        rgba(10,1,24,0.98) 100%
      );
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 25px 20px;
      transition: all 0.4s ease;
    }

    .carousel-3d-item:hover .card-overlay {
      background: linear-gradient(
        180deg, 
        rgba(10,1,24,0) 0%,
        rgba(10,1,24,0.3) 35%,
        rgba(10,1,24,0.9) 65%,
        rgba(168,85,247,0.15) 100%
      );
    }

    .carousel-3d-item .card-badge {
      position: absolute;
      top: 18px;
      left: 18px;
      background: linear-gradient(135deg, rgba(168,85,247,0.95), rgba(99,102,241,0.95));
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      padding: 8px 16px;
      border-radius: 25px;
      font-size: 0.75rem;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 
        0 4px 20px rgba(168,85,247,0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
      transition: all 0.35s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .carousel-3d-item:hover .card-badge {
      transform: translateY(-3px);
      box-shadow: 
        0 8px 30px rgba(168,85,247,0.7),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }

    .carousel-3d-item .card-title {
      font-size: 1.4rem;
      font-weight: 900;
      font-family: 'Orbitron', sans-serif;
      color: #fff;
      text-shadow: 0 3px 20px rgba(0,0,0,0.8), 0 0 30px rgba(162,89,255,0.6);
      margin: 0 0 10px 0;
      text-align: left;
      line-height: 1.2;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.35s ease;
    }

    .carousel-3d-item .card-desc {
      font-size: 0.85rem;
      color: #e0e0e0;
      text-align: left;
      line-height: 1.5;
      margin: 0 0 15px 0;
      text-shadow: 0 2px 10px rgba(0,0,0,0.8);
      transition: all 0.35s ease;
    }

    .carousel-3d-item .card-btn {
      background: linear-gradient(90deg, #00f3ff, #a259ff);
      color: #000;
      font-weight: 800;
      border: none;
      border-radius: 30px;
      padding: 12px 0;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.25s ease;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      box-shadow: 0 6px 25px rgba(162,89,255,0.5);
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .carousel-3d-item .card-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 40px rgba(0,243,255,0.6);
      background: linear-gradient(90deg, #a259ff, #00f3ff);
    }

    .carousel-3d-item .led-border {
      display: none;
      position: absolute;
      inset: -5px;
      border-radius: 24px;
      z-index: -1;
      pointer-events: none;
      background: conic-gradient(
        from 0deg,
        #a259ff 0%,
        #00f3ff 25%,
        #ff00ff 50%,
        #00f3ff 75%,
        #a259ff 100%
      );
      animation: rotateLED 3s linear infinite;
    }

    @keyframes rotateLED {
      0% { 
        filter: hue-rotate(0deg) brightness(1.5) drop-shadow(0 0 30px #a259ff);
      }
      100% { 
        filter: hue-rotate(360deg) brightness(1.5) drop-shadow(0 0 30px #a259ff);
      }
    }

    /* Hover effect com LED border */
    .carousel-3d-item:hover .led-border {
      display: block;
    }

    /* BOT√ïES DE NAVEGA√á√ÉO */
    .carousel-3d-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(10, 10, 30, 0.95);
      backdrop-filter: blur(15px);
      border: 2px solid rgba(168, 85, 247, 0.5);
      color: #fff;
      font-size: 2rem;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 50;
      transition: all 0.3s ease;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6);
      user-select: none;
    }

    .carousel-3d-nav:hover {
      background: rgba(168, 85, 247, 0.95);
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 12px 40px rgba(168, 85, 247, 0.8);
      border-color: #a855f7;
    }

    .carousel-3d-nav.prev { left: 10px; }
    .carousel-3d-nav.next { right: 10px; }

    /* CARROSSEL MOBILE */
    @media (max-width: 768px) {
      .carousel-3d {
        margin: 20px auto 40px;
        padding: 0 20px;
      }
      
      .carousel-3d-container {
        height: 420px;
      }
      
      .carousel-3d-item {
        width: 260px;
        height: 380px;
      }
      
      .carousel-3d-item.pos-left {
        transform: scale(0.75) translateX(-200px) rotateY(10deg);
        opacity: 0.5;
      }
      
      .carousel-3d-item.pos-center {
        transform: scale(0.95) translateX(0);
      }
      
      .carousel-3d-item.pos-right {
        transform: scale(0.75) translateX(200px) rotateY(-10deg);
        opacity: 0.5;
      }
      
      .carousel-3d-nav {
        width: 40px;
        height: 40px;
        font-size: 1.5rem;
      }
      
      .carousel-3d-nav.prev { left: 5px; }
      .carousel-3d-nav.next { right: 5px; }
      
      .carousel-3d-item .card-title {
        font-size: 1.2rem;
      }
      
      .carousel-3d-item .card-subtitle {
        font-size: 0.8rem;
      }
      
      .carousel-3d-item .card-btn {
        padding: 10px 0;
        font-size: 0.8rem;
      }
    }

    /* INDICADORES - Escondidos no modelo horizontal */
    .carousel-3d-indicators {
      display: none;
    }

    /* STATUS DA CONTA */
    .status-container {
      margin: 60px auto;
      padding: 25px 15px;
      width: 90%;
      max-width: 900px;
      background: rgba(72, 0, 128, 0.15);
      border: 2px solid #a855f7;
      border-radius: 18px;
      box-shadow: 0 0 25px rgba(168, 85, 247, 0.3);
      text-align: center;
    }

    .status-title {
      color: #c084fc;
      font-size: 1.8em;
      margin-bottom: 20px;
      text-shadow: 0 0 10px #a855f7;
    }

    .status-cards {
      display: flex;
      justify-content: center;
      gap: 25px;
      flex-wrap: wrap;
    }

    .status-card {
      background: linear-gradient(145deg, #321e5b, #43156e, #5b21b6);
      border-radius: 15px;
      padding: 20px;
      width: 180px;
      text-align: center;
      box-shadow: 0 0 15px rgba(168, 85, 247, 0.2);
    }

    .status-number {
      font-size: 2.2em;
      font-weight: 700;
      color: #c084fc;
      text-shadow: 0 0 15px #a855f7;
    }

    .status-number.red {
      color: #ff4d4d;
      text-shadow: 0 0 15px #ff0000;
    }

    .status-info {
      font-size: 1.1em;
      color: #d8b4fe;
      margin-bottom: 8px;
    }

    .status-ok {
      color: #22c55e;
      font-weight: 700;
      margin-bottom: 5px;
    }
    
    .orange {
      color: #f59e0b !important;
      font-weight: 700;
    }
    
    .red {
      color: #ef4444 !important;
      font-weight: 700;
    }

    /* PLANOS */
    .planos-container {
      display: none;
      justify-content: center;
      gap: 30px;
      margin-top: 50px;
      flex-wrap: wrap;
    }

    .plano-card {
      background: linear-gradient(135deg, #6b21a8, #9333ea);
      border-radius: 20px;
      width: 220px;
      padding: 25px;
      box-shadow: 0 0 30px rgba(147, 51, 234, 0.6);
      text-align: center;
      color: white;
      transition: transform 0.3s;
    }

    .plano-card:hover {
      transform: translateY(-5px) scale(1.05);
    }

    .plano-card h3 {
      font-size: 1.3em;
      margin-bottom: 10px;
    }

    .plano-card .price {
      font-size: 1.8em;
      font-weight: 700;
      margin-bottom: 15px;
    }

    .plano-card button {
      background: linear-gradient(90deg, #fff, #c084fc);
      color: #6b21a8;
      font-weight: 700;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
    }

    /* SIDEBAR */
    .sidebar {
      height: 100%;
      width: 250px;
      position: fixed;
      top: 0;
      left: -250px;
      background: linear-gradient(180deg, #1e0b3a, #2e1065, #3b0764);
      padding-top: 60px;
      transition: left 0.3s ease;
      z-index: 100;
      overflow-y: auto;
    }

    .sidebar.active { left: 0; }

    .sidebar a {
      display: block;
      color: white;
      padding: 15px 30px;
      text-decoration: none;
      font-size: 1.1em;
      transition: background 0.2s;
    }

    .sidebar a:hover { background: rgba(147, 51, 234, 0.2); }

    /* SE√á√ÉO IMPORTANTE - COMPACTA */
    .sidebar-importante {
      background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(99, 102, 241, 0.15));
      border-top: 1px solid rgba(168, 85, 247, 0.3);
      border-bottom: 1px solid rgba(168, 85, 247, 0.3);
      margin: 10px 0;
      padding: 15px 20px;
    }

    .importante-header {
      font-size: 0.85rem;
      font-weight: 800;
      color: #a855f7;
      text-align: center;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .importante-section {
      margin-bottom: 15px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(168, 85, 247, 0.15);
    }

    .importante-section:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .importante-label {
      display: block;
      font-size: 0.75rem;
      font-weight: 700;
      color: #c084fc;
      margin-bottom: 8px;
    }

    .logo-preview {
      width: 100%;
      height: 60px;
      background: rgba(10, 10, 30, 0.4);
      border: 1px dashed rgba(168, 85, 247, 0.3);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 8px;
      overflow: hidden;
    }

    .btn-upload-logo, .btn-salvar-whatsapp {
      width: 100%;
      background: linear-gradient(90deg, #a855f7, #6366f1);
      color: white;
      border: none;
      padding: 8px;
      border-radius: 6px;
      font-weight: 700;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .btn-upload-logo:hover, .btn-salvar-whatsapp:hover {
      background: linear-gradient(90deg, #6366f1, #a855f7);
      transform: translateY(-1px);
      box-shadow: 0 4px 15px rgba(168, 85, 247, 0.5);
    }

    .btn-upload-logo:disabled {
      background: #555;
      cursor: not-allowed;
      opacity: 0.5;
    }

    .upload-info, .upload-reset {
      font-size: 0.65rem;
      color: #d8b4fe;
      margin-top: 4px;
      text-align: center;
    }

    .upload-info span, .upload-reset span {
      color: #a855f7;
      font-weight: 700;
    }

    .whatsapp-input {
      width: 100%;
      background: rgba(10, 10, 30, 0.4);
      border: 1px solid rgba(168, 85, 247, 0.3);
      border-radius: 6px;
      padding: 8px;
      color: white;
      font-size: 0.8rem;
      margin-bottom: 8px;
      transition: all 0.3s ease;
    }

    .whatsapp-input:focus {
      outline: none;
      border-color: #a855f7;
      box-shadow: 0 0 8px rgba(168, 85, 247, 0.3);
    }

    .whatsapp-input::placeholder {
      color: #888;
      font-size: 0.75rem;
    }
    
    .sidebar-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(5px);
      z-index: 100;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .sidebar-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }

    #menu-toggle {
      position: fixed;
      top: 15px;
      left: 15px;
      background: linear-gradient(90deg, #9333ea, #a855f7);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 10px;
      cursor: pointer;
      z-index: 101;
      font-weight: bold;
      box-shadow: 0 0 10px rgba(168, 85, 247, 0.6);
      transition: all 0.25s ease;
    }

    #menu-toggle:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.8);
    }

    /* FOOTER */
    footer {
      margin-top: 60px;
      text-align: center;
      color: #d1d5db;
      font-size: 0.95em;
      padding: 25px 10px;
      border-top: 1px solid rgba(168, 85, 247, 0.3);
    }

    footer a {
      color: #c084fc;
      text-decoration: none;
      margin: 0 15px;
    }

    footer a:hover { color: #ffffff; }

    /* ==================== RESPONSIVO - TABLET ==================== */
    @media (max-width: 1200px) {
      .carousel-3d {
        padding: 0 50px;
      }

      .carousel-3d-item {
        flex: 0 0 calc(50% - 10px);
        min-width: 280px;
        height: 420px;
      }

      .carousel-3d-nav {
        width: 45px;
        height: 45px;
        font-size: 1.8rem;
      }
    }

    /* ==================== RESPONSIVO - MOBILE ==================== */
    @media (max-width: 768px) {
      .sidebar {
        width: 250px;
        left: -250px;
      }

      .sidebar-importante {
        padding: 12px 15px;
      }

      .importante-header {
        font-size: 0.8rem;
      }

      .btn-upload-logo, .btn-salvar-whatsapp {
        font-size: 0.7rem;
        padding: 7px;
      }

      /* Header fixo mobile */
      .mobile-header {
        display: flex;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 60px;
        background: linear-gradient(180deg, rgba(10, 1, 24, 0.98), rgba(15, 5, 38, 0.95));
        backdrop-filter: blur(10px);
        z-index: 99;
        align-items: center;
        justify-content: center;
        padding: 0 15px;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
      }
      
      .mobile-header .logo {
        width: 120px;
        margin: 0;
        filter: drop-shadow(0 0 10px #a855f7);
      }
      
      #menu-toggle {
      position: fixed !important;
      top: 12px !important;
      left: 12px !important;
      width: 44px !important;
      height: 44px !important;
      padding: 0 !important;
      font-size: 1.2rem !important;
      line-height: 44px !important;
      text-align: center !important;
      z-index: 1002 !important;
      border-radius: 12px !important;
      background: rgba(168, 85, 247, 0.95) !important;
      backdrop-filter: blur(10px) !important;
      border: 2px solid rgba(255, 255, 255, 0.15) !important;
      color: white !important;
      box-shadow: 0 4px 20px rgba(168, 85, 247, 0.4) !important;
      cursor: pointer !important;
    }
      
    .container { 
      padding: 80px 15px 20px 15px; 
      display: flex;
      flex-direction: column;
      align-items: center;
    }
      
      /* Esconder logo do container no mobile (j√° est√° no header) */
      .container > .logo { 
        display: none;
      }
      
      #welcome-user { 
        font-size: 1.15em;
        text-align: center;
        margin-bottom: 15px;
      }

      .carousel-3d {
        padding: 0 50px;
        margin: 25px auto 50px;
      }

      .carousel-3d-item {
        flex: 0 0 85%;
        min-width: 260px;
        height: 400px;
      }

      .carousel-3d-nav {
        width: 40px;
        height: 40px;
        font-size: 1.5rem;
      }

      .carousel-3d-nav.prev { left: 5px; }
      .carousel-3d-nav.next { right: 5px; }
      
      /* Desabilitar anima√ß√µes pesadas em mobile */
      .stars {
        animation: none;
        opacity: 0.15;
      }
      
      .led-border {
        animation: none;
        filter: brightness(1.2) drop-shadow(0 0 15px #a259ff);
      }
    }

    /* ==================== MOBILE PEQUENO ==================== */
    @media (max-width: 480px) {
      .container {
        padding: 60px 10px 20px 10px;
      }
      
      .logo {
        width: 140px;
        margin: 0 auto 15px;
      }
      
      #welcome-user {
        font-size: 1.1em;
      }
      
      #menu-toggle {
        top: 8px;
        left: 8px;
        padding: 7px 10px;
        font-size: 0.85rem;
      }
      
      .carousel-3d {
        padding: 0 45px;
        margin: 30px auto 50px;
      }

      .carousel-3d-item {
        flex: 0 0 90%;
        min-width: 240px;
        height: 380px;
      }

      .carousel-3d-nav {
        width: 38px;
        height: 38px;
        font-size: 1.4rem;
      }

      .carousel-3d-nav.prev { left: 3px; }
      .carousel-3d-nav.next { right: 3px; }
    }
  </style>
</head>
<body class="home-page">
  <div class="stars"></div>
  
  <!-- HEADER MOBILE COM LOGO CENTRALIZADA -->
  <header class="mobile-header">
    <img src="images/logo.png" alt="Logo Orion" class="logo" />
  </header>
  
  <button id="menu-toggle">‚ò∞</button>
  
  <div class="sidebar-overlay" id="sidebarOverlay"></div>
  <div class="sidebar" id="sidebar">
    <!-- MENU NAVEGA√á√ÉO -->
    <a href="home.html">üè† In√≠cio</a>
    
    <!-- SE√á√ÉO IMPORTANTE -->
    <div class="sidebar-importante">
      <div class="importante-header">‚≠ê IMPORTANTE</div>
      
      <!-- Upload de Logo -->
      <div class="importante-section">
        <label class="importante-label">üì∏ Logo Personalizada</label>
        <div class="logo-preview" id="logoPreview">
          <img id="logoPreviewImg" src="" alt="Logo" style="display: none; max-width: 100%; max-height: 60px; object-fit: contain;">
          <span id="logoPlaceholder" style="color: #888; font-size: 0.8rem;">Nenhuma logo</span>
        </div>
        <input type="file" id="logoUpload" accept="image/*" style="display: none;">
        <button class="btn-upload-logo" id="btnUploadLogo">Enviar Logo</button>
        <div class="upload-info" id="uploadInfo"><span id="uploadsRestantes">--</span>/2 uploads</div>
        <div class="upload-reset" id="uploadReset">Reset: <span id="dataReset">--/--</span></div>
      </div>

      <!-- WhatsApp -->
      <div class="importante-section">
        <label class="importante-label">üì± WhatsApp</label>
        <input type="tel" id="whatsappInput" class="whatsapp-input" placeholder="(00) 00000-0000" maxlength="15">
        <button class="btn-salvar-whatsapp" id="btnSalvarWhatsapp">Salvar</button>
      </div>
    </div>
    
    <a href="futebol.html">‚öΩ Gerar Esportes</a>
    <a href="divulga√ß√£o.html">üì¢ Banners de Divulga√ß√£o</a>
    <a href="vods.html">üé¨ Filmes & S√©ries</a>
    <a href="videos.html">üé• V√≠deos de Vods</a>
    <a href="programacao.html">üìÖ Programa√ß√£o Esportiva</a>
    <a href="perfil.html">üë§ Meu Perfil</a>
    <a href="#" id="sidebar-logout">üö™ Sair</a>
  </div>

  <div class="container" id="main">
    <img src="images/logo.png" alt="Logo Orion" class="logo" />
    <h2 id="welcome-user">Ol√°, <span id="user-name">Carregando...</span> üëã</h2>

    <!-- HERO SECTION GAL√ÅCTICA -->
    <div class="hero-galactic">
      <div class="hero-particles" id="heroParticles"></div>
      <div class="hero-content">
        <h1 class="hero-title">
          <span class="hero-sparkles">‚ú®</span>
          <span id="hero-greeting">OL√Å, </span><span id="hero-user-name">CARREGANDO...</span>, BEM-VINDO AO ORION CREATOR
          <span class="hero-sparkles">‚ú®</span>
        </h1>
        <p class="hero-subtitle">
          Crie banners profissionais de esportes, filmes, s√©ries e v√≠deos promocionais em segundos! 
          Integra√ß√£o com TMDB, logos HD, m√∫ltiplos modelos personalizados e export direto para suas redes.
        </p>
        <div class="hero-divider"></div>
        <div class="hero-question">
          <span class="emoji">üöÄ</span> O que vamos criar hoje?
        </div>
      </div>
    </div>

    <!-- CARROSSEL 3D -->
    <div class="carousel-3d">
      <div class="carousel-3d-container" id="carouselContainer">
        <!-- Card 1 - Banners de Divulga√ß√£o (CENTRAL) -->
        <div class="carousel-3d-item" data-index="0">
          <div class="led-border"></div>
          <img src="https://res.cloudinary.com/dxbu3zk6i/image/upload/v1767728934/gpt-image-1.5_Banner_publicit%C3%A1rio_profissional_em_formato_quadrado_1_1_estilo_streaming_premi-0_golpwd.jpg" alt="Divulga√ß√£o" class="card-bg" loading="eager">
          <div class="card-overlay">
            <div class="card-badge">üì¢ DIVULGA√á√ÉO</div>
            <div class="card-title">Banners de Divulga√ß√£o</div>
            <div class="card-desc">Gere banners para promover servi√ßos, produtos e eventos nas redes sociais.</div>
            <button class="card-btn" onclick="window.location.href='divulga√ß√£o.html'">
              <span>ACESSAR AGORA</span> ‚Üí
            </button>
          </div>
        </div>

        <!-- Card 2 - Esportes -->
        <div class="carousel-3d-item" data-index="1" data-images='["https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=400&h=600&fit=crop&q=80","https://images.unsplash.com/photo-1517466787929-bc90951d0974?w=400&h=600&fit=crop&q=80"]'>
          <div class="led-border"></div>
          <img src="https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=400&h=600&fit=crop&q=80" alt="Esportes" class="card-bg" loading="lazy">
          <div class="card-overlay">
            <div class="card-badge">‚öΩ ESPORTES</div>
            <div class="card-title">Banners de Esportes</div>
            <div class="card-desc">Gere banners de futebol, basquete, v√¥lei e mais! Com placares e estat√≠sticas.</div>
            <button class="card-btn" onclick="window.location.href='futebol.html'">
              <span>ACESSAR AGORA</span> ‚Üí
            </button>
          </div>
        </div>

        <!-- Card 3 - VODs -->
        <div class="carousel-3d-item" data-index="2" data-images='["https://res.cloudinary.com/dxbu3zk6i/image/upload/v1767728745/Banner_Avatar__Fogo_e_Cinzas_ROXO_vcahn4.png","https://res.cloudinary.com/dxbu3zk6i/image/upload/v1767728743/Banner_Zootopia_2_ROXO_llos0e.png","https://res.cloudinary.com/dxbu3zk6i/image/upload/v1767728742/Banner_Stranger_Things_ROXO_T5_tv7ozk.png"]'>
          <div class="led-border"></div>
          <img src="https://res.cloudinary.com/dxbu3zk6i/image/upload/v1767728745/Banner_Avatar__Fogo_e_Cinzas_ROXO_vcahn4.png" alt="VODs" class="card-bg" loading="lazy">
          <div class="card-overlay">
            <div class="card-badge">üé¨ STREAMING</div>
            <div class="card-title">Banners de VODs</div>
            <div class="card-desc">Gere banners de filmes e s√©ries do TMDB com 3 modelos exclusivos!</div>
            <button class="card-btn" onclick="window.location.href='vods.html'">
              <span>ACESSAR AGORA</span> ‚Üí
            </button>
          </div>
        </div>

        <!-- Card 4 - V√≠deos -->
        <div class="carousel-3d-item" data-index="3">
          <div class="led-border"></div>
          <video class="card-bg" autoplay loop muted playsinline style="object-fit: cover; width: 100%; height: 100%;">
            <source src="https://res.cloudinary.com/dxbu3zk6i/video/upload/v1767728235/Video_Stranger_Things_90s_720p_T5_d9geob.mp4" type="video/mp4">
          </video>
          <div class="card-overlay">
            <div class="card-badge">üé• V√çDEOS</div>
            <div class="card-title">V√≠deos de VODs</div>
            <div class="card-desc">Gere v√≠deos promocionais verticais de filmes e s√©ries com efeitos profissionais!</div>
            <button class="card-btn" onclick="window.location.href='videos.html'">
              <span>ACESSAR AGORA</span> ‚Üí
            </button>
          </div>
        </div>

        <!-- Card 5 - Programa√ß√£o -->
        <div class="carousel-3d-item" data-index="4" data-images='["https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?w=400&h=600&fit=crop&q=80","https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=400&h=600&fit=crop&q=80"]'>
          <div class="led-border"></div>
          <img src="https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?w=400&h=600&fit=crop&q=80" alt="Programa√ß√£o" class="card-bg" loading="lazy">
          <div class="card-overlay">
            <div class="card-badge">üìÖ AGENDA</div>
            <div class="card-title">Programa√ß√£o Esportiva</div>
            <div class="card-desc">Tenha acesso √† programa√ß√£o di√°ria de esportes em texto para copiar e mandar em seus grupos!</div>
            <button class="card-btn" onclick="window.location.href='programacao.html'">
              <span>ACESSAR AGORA</span> ‚Üí
            </button>
          </div>
        </div>
      </div>

      <!-- Bot√µes de Navega√ß√£o -->
      <button class="carousel-3d-nav prev" id="prevBtn">‚Äπ</button>
      <button class="carousel-3d-nav next" id="nextBtn">‚Ä∫</button>

      <!-- Indicadores -->
      <div class="carousel-3d-indicators" id="indicators"></div>
    </div>

    <!-- STATUS DA CONTA -->
    <section class="status-container">
      <h2 class="status-title">ü™ê Status da Conta</h2>
      <div class="status-cards">
        <div class="status-card">
          <p>Status da conta</p>
          <div id="status-atual" class="status-ok">--</div>
        </div>
        <div class="status-card">
          <p>Dias restantes</p>
          <div id="dias-restantes" class="status-number">--</div>
        </div>
        <div class="status-card">
          <p>Data de vencimento</p>
          <div id="data-vencimento" class="status-info">--/--/----</div>
        </div>
      </div>
      <p class="status-msg" id="status-msg">Carregando informa√ß√µes...</p>
    </section>

    <!-- PLANOS -->
    <section class="planos-container" id="planos">
      <div class="plano-card">
        <h3>Plano 15 Dias</h3>
        <p>Acesso completo por 15 dias</p>
        <div class="price">R$14,00</div>
        <button id="btn-plano-15">Ativar</button>
      </div>
      <div class="plano-card">
        <h3>Plano 30 Dias</h3>
        <p>Acesso completo por 30 dias</p>
        <div class="price">R$20,00</div>
        <button id="btn-plano-30">Ativar</button>
      </div>
    </section>

    <!-- FOOTER -->
    <footer>
      <p>
        <a href="contato.html">Contato</a> |
        <a href="termos.html">Termos de Uso</a> |
        <a href="privacidade.html">Pol√≠tica de Privacidade</a> |
        <a href="sobre.html">Sobre a Orion</a>
      </p>
      <p>¬© 2025 Orion. Todos os direitos reservados.</p>
    </footer>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, doc, getDoc, setDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

    // Configura√ß√£o Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyCJU2wA6lL4aglQIzPrlyYdl_5xaIZqIec",
      authDomain: "orion-lab-a9298.firebaseapp.com",
      projectId: "orion-lab-a9298",
      storageBucket: "orion-lab-a9298.firebasestorage.app",
      messagingSenderId: "421847499235",
      appId: "1:421847499235:web:5c271435a1c9d2fe58a0d6",
      databaseURL: "https://orion-lab-a9298-default-rtdb.firebaseio.com/"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Fun√ß√£o para gerar data de expira√ß√£o
    function gerarDataExpiracao(dias) {
      const hoje = new Date();
      hoje.setDate(hoje.getDate() + dias);
      return hoje.toISOString();
    }

    // ==================== GERENCIAMENTO DE LOGO E WHATSAPP ====================
    let userLogoUrl = null;
    let userWhatsapp = null;

    // Fun√ß√£o para atualizar contador de uploads
    async function atualizarContadorUploads(uid) {
      try {
        const userRef = doc(db, "usuarios", uid);
        const userDoc = await getDoc(userRef);
        
        if (userDoc.exists()) {
          const dados = userDoc.data();
          const uploadsRestantes = dados.uploads_restantes ?? 2;
          const dataReset = dados.data_reset_logo ? new Date(dados.data_reset_logo) : null;
          
          document.getElementById('uploadsRestantes').textContent = uploadsRestantes;
          
          if (dataReset) {
            document.getElementById('dataReset').textContent = dataReset.toLocaleDateString('pt-BR');
          }
          
          // Desabilitar bot√£o se n√£o tiver uploads restantes
          const btnUpload = document.getElementById('btnUploadLogo');
          if (uploadsRestantes <= 0) {
            btnUpload.disabled = true;
            btnUpload.textContent = 'Limite Atingido';
          } else {
            btnUpload.disabled = false;
            btnUpload.textContent = 'Enviar Logo';
          }
          
          // Carregar logo do usu√°rio do Cloudinary (campo 'logo' √© o principal)
          const logoImg = document.getElementById('logoPreviewImg');
          const logoPlaceholder = document.getElementById('logoPlaceholder');
          
          // Campo 'logo' √© o principal (link do Cloudinary), logo_url √© fallback
          const logoUrl = dados.logo || dados.logo_url;
          console.log('üîç Verificando logo nos dados do usu√°rio:');
          console.log('   - logo (principal):', dados.logo ? dados.logo.substring(0, 80) : 'N√£o existe');
          console.log('   - logo_url (fallback):', dados.logo_url ? 'Existe' : 'N√£o existe');
          console.log('   - Logo selecionada:', logoUrl ? logoUrl.substring(0, 80) : 'Nenhuma');
          console.log('   - √â Cloudinary?:', logoUrl && logoUrl.includes('cloudinary.com') ? '‚úÖ Sim' : '‚ùå N√£o');
          
          if (logoUrl && logoUrl.includes('cloudinary.com')) {
            userLogoUrl = logoUrl;
            if (logoImg) {
              logoImg.src = logoUrl;
              logoImg.style.display = 'block';
              logoImg.style.maxWidth = '100%';
              logoImg.style.maxHeight = '60px';
              logoImg.style.objectFit = 'contain';
              console.log('‚úÖ Logo carregada do Cloudinary:', logoUrl);
            } else {
              console.error('‚ùå Elemento logoPreviewImg n√£o encontrado!');
            }
            if (logoPlaceholder) {
              logoPlaceholder.style.display = 'none';
            }
          } else {
            // Sem logo personalizada
            console.log('‚ÑπÔ∏è Usu√°rio n√£o possui logo personalizada (campos logo e logo_url est√£o vazios)');
            if (logoImg) {
              logoImg.style.display = 'none';
            }
            if (logoPlaceholder) {
              logoPlaceholder.style.display = 'block';
              logoPlaceholder.textContent = 'Nenhuma logo';
            }
          }
          
          // Mostrar WhatsApp se existir
          if (dados.whatsapp) {
            userWhatsapp = dados.whatsapp;
            document.getElementById('whatsappInput').value = dados.whatsapp;
          }
        }
      } catch (error) {
        console.error('‚ùå Erro ao carregar dados do usu√°rio:', error);
      }
    }

    // Fun√ß√£o para resetar contador mensalmente
    async function verificarResetMensal(uid) {
      const userRef = doc(db, "usuarios", uid);
      const userDoc = await getDoc(userRef);
      
      if (userDoc.exists()) {
        const dados = userDoc.data();
        const dataReset = dados.data_reset_logo ? new Date(dados.data_reset_logo) : null;
        const hoje = new Date();
        
        // Se n√£o tem data de reset ou passou de 30 dias, reseta
        if (!dataReset || hoje >= dataReset) {
          const proximoReset = new Date();
          proximoReset.setDate(proximoReset.getDate() + 30);
          
          await updateDoc(userRef, {
            uploads_restantes: 2,
            data_reset_logo: proximoReset.toISOString()
          });
          
          atualizarContadorUploads(uid);
        }
      }
    }

    // Upload de logo
    document.getElementById('btnUploadLogo').addEventListener('click', () => {
      document.getElementById('logoUpload').click();
    });

    document.getElementById('logoUpload').addEventListener('change', async (e) => {
      const file = e.target.files[0];
      if (!file) return;
      
      if (!auth.currentUser) {
        alert('Fa√ßa login novamente!');
        return;
      }
      
      const uid = auth.currentUser.uid;
      
      // Validar arquivo localmente primeiro
      if (!file.type.startsWith('image/')) {
        alert('Por favor, envie apenas imagens!');
        return;
      }
      
      if (file.size > 5 * 1024 * 1024) {
        alert('A imagem deve ter no m√°ximo 5MB!');
        return;
      }
      
      const btnUpload = document.getElementById('btnUploadLogo');
      const originalText = btnUpload.textContent;
      btnUpload.textContent = 'Enviando...';
      btnUpload.disabled = true;
      
      try {
        // Obter token Firebase para autentica√ß√£o
        const token = await auth.currentUser.getIdToken();
        
        // Enviar para API Cloudinary
        const formData = new FormData();
        formData.append('logo', file);
        
        const response = await fetch('/api/upload-logo', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${token}`
          },
          body: formData
        });
        
        const result = await response.json();
        
        console.log('üì• Resposta do servidor ap√≥s upload:');
        console.log('   - success:', result.success);
        console.log('   - logoUrl:', result.logoUrl);
        console.log('   - √â Cloudinary?:', result.logoUrl && result.logoUrl.includes('cloudinary.com') ? '‚úÖ Sim' : '‚ùå N√£o');
        console.log('   - uploadsRestantes:', result.uploadsRestantes);
        console.log('   - Campo salvo: "logo" (principal) e "logo_url" (compatibilidade)');
        
        if (!response.ok) {
          if (response.status === 429) {
            const dataReset = result.dataReset ? new Date(result.dataReset).toLocaleDateString('pt-BR') : 'pr√≥ximo m√™s';
            throw new Error(`Limite de uploads atingido. Reset em: ${dataReset}`);
          }
          throw new Error(result.error || 'Erro no upload');
        }
        
        // Atualizar preview com URL do Cloudinary
        const logoImg = document.getElementById('logoPreviewImg');
        const logoPlaceholder = document.getElementById('logoPlaceholder');
        
        logoImg.src = result.logoUrl;
        logoImg.style.display = 'block';
        if (logoPlaceholder) {
          logoPlaceholder.style.display = 'none';
        }
        userLogoUrl = result.logoUrl;
        
        alert(`Logo enviada com sucesso! Uploads restantes: ${result.uploadsRestantes}`);
        atualizarContadorUploads(uid);
        
      } catch (error) {
        console.error('Erro ao salvar logo:', error);
        alert('Erro ao salvar logo: ' + error.message);
      } finally {
        btnUpload.textContent = originalText;
        btnUpload.disabled = false;
      }
    });

    // Salvar WhatsApp
    document.getElementById('btnSalvarWhatsapp').addEventListener('click', async () => {
      if (!auth.currentUser) {
        alert('Fa√ßa login novamente!');
        return;
      }
      
      const whatsapp = document.getElementById('whatsappInput').value.trim();
      
      if (!whatsapp) {
        alert('Por favor, insira um n√∫mero de WhatsApp!');
        return;
      }
      
      // Valida√ß√£o b√°sica
      const whatsappLimpo = whatsapp.replace(/\D/g, '');
      if (whatsappLimpo.length < 10 || whatsappLimpo.length > 11) {
        alert('N√∫mero de WhatsApp inv√°lido! Use o formato: (00) 00000-0000');
        return;
      }
      
      try {
        const uid = auth.currentUser.uid;
        const userRef = doc(db, "usuarios", uid);
        await updateDoc(userRef, {
          whatsapp: whatsapp
        });
        
        userWhatsapp = whatsapp;
        alert('WhatsApp salvo com sucesso!');
      } catch (error) {
        console.error('Erro ao salvar WhatsApp:', error);
        alert('Erro ao salvar WhatsApp. Tente novamente.');
      }
    });

    // M√°scara para WhatsApp
    document.getElementById('whatsappInput').addEventListener('input', (e) => {
      let value = e.target.value.replace(/\D/g, '');
      
      if (value.length <= 11) {
        if (value.length <= 2) {
          e.target.value = value;
        } else if (value.length <= 7) {
          e.target.value = `(${value.slice(0, 2)}) ${value.slice(2)}`;
        } else {
          e.target.value = `(${value.slice(0, 2)}) ${value.slice(2, 7)}-${value.slice(7, 11)}`;
        }
      }
    });

    // Verifica autentica√ß√£o e carrega dados do usu√°rio
    onAuthStateChanged(auth, async (user) => {
      if (!user) {
        window.location.href = "index.html";
        return;
      }
      
      // Verificar e resetar contador mensal
      await verificarResetMensal(user.uid);
      
      // Atualizar informa√ß√µes de logo e WhatsApp
      console.log('üîÑ Carregando dados do usu√°rio:', user.uid);
      await atualizarContadorUploads(user.uid);
      
      // Debug: verificar se a logo foi carregada
      setTimeout(() => {
        const logoImg = document.getElementById('logoPreviewImg');
        if (logoImg && logoImg.src && logoImg.style.display === 'block') {
          console.log('‚úÖ Logo carregada e vis√≠vel na sidebar');
        } else {
          console.log('‚ö†Ô∏è Logo n√£o est√° vis√≠vel. Verifique os dados no Firebase.');
        }
      }, 500);
      
      try {
        const userRef = doc(db, "usuarios", user.uid);
        const userDoc = await getDoc(userRef);
        
        if (userDoc.exists()) {
          const dados = userDoc.data();
          const userName = dados.nome || "USU√ÅRIO";
          
          // Atualizar nome no hero title (mai√∫sculas)
          document.getElementById("hero-user-name").innerText = userName.toUpperCase();
          
          const dataExp = new Date(dados.data_expiracao);
          const hoje = new Date();
          const diffTime = dataExp - hoje;
          const diasRestantes = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
          
          // Atualizar elementos
          document.getElementById("dias-restantes").textContent = diasRestantes;
          document.getElementById("data-vencimento").textContent = dataExp.toLocaleDateString("pt-BR");
          
          const statusElem = document.getElementById("status-atual");
          const statusMsg = document.getElementById("status-msg");
          
          // Mensagens personalizadas baseadas no status
          if (diasRestantes > 7) {
            statusElem.textContent = "‚úÖ Ativo";
            statusElem.classList.remove("red");
            statusElem.classList.add("status-ok");
            statusMsg.textContent = "üéâ Sua conta est√° ativa e funcionando perfeitamente!";
            statusMsg.style.color = "#10b981";
          } else if (diasRestantes > 0 && diasRestantes <= 7) {
            statusElem.textContent = "‚ö†Ô∏è Ativo";
            statusElem.classList.add("orange");
            statusMsg.textContent = `‚ö†Ô∏è Aten√ß√£o: Seu plano vence em ${diasRestantes} dia${diasRestantes > 1 ? 's' : ''}! Renove agora para n√£o perder o acesso.`;
            statusMsg.style.color = "#f59e0b";
            document.getElementById("planos").style.display = "flex";
          } else {
            statusElem.textContent = "‚ùå Expirado";
            statusElem.classList.add("red");
            statusMsg.textContent = "‚ùå Sua conta expirou! Renove seu plano para continuar utilizando a plataforma.";
            statusMsg.style.color = "#ef4444";
            document.getElementById("planos").style.display = "flex";
          }
          
          if (diasRestantes <= 5) {
            document.getElementById("dias-restantes").classList.add("red");
          }
        } else {
          document.getElementById("hero-user-name").innerText = "USU√ÅRIO N√ÉO ENCONTRADO";
          document.getElementById("status-msg").textContent = "‚ö†Ô∏è Dados do usu√°rio n√£o encontrados. Entre em contato com o suporte.";
          document.getElementById("status-msg").style.color = "#ef4444";
        }
      } catch (error) {
        console.error("Erro ao carregar dados:", error);
        document.getElementById("hero-user-name").innerText = "ERRO";
        document.getElementById("status-msg").textContent = "‚ö†Ô∏è Erro ao carregar informa√ß√µes. Tente atualizar a p√°gina.";
        document.getElementById("status-msg").style.color = "#ef4444";
      }
    });

    // Logout
    document.getElementById("sidebar-logout").addEventListener("click", async () => {
      await signOut(auth);
      window.location.href = "index.html";
    });
    
    // Toggle Menu Sidebar com overlay
    const menuToggle = document.getElementById("menu-toggle");
    const sidebar = document.getElementById("sidebar");
    const sidebarOverlay = document.getElementById("sidebarOverlay");
    
    function toggleMenu() {
      sidebar.classList.toggle("active");
      sidebarOverlay.classList.toggle("active");
      document.body.style.overflow = sidebar.classList.contains("active") ? "hidden" : "";
    }
    
    menuToggle.addEventListener("click", toggleMenu);
    sidebarOverlay.addEventListener("click", toggleMenu);
    
    // Fechar ao clicar em link
    sidebar.querySelectorAll("a").forEach(link => {
      link.addEventListener("click", () => {
        if (window.innerWidth <= 768) toggleMenu();
      });
    });

    // Renova√ß√£o de planos
    document.getElementById("btn-plano-15").addEventListener("click", async () => {
      if (!auth.currentUser) return alert("Fa√ßa login novamente!");
      const uid = auth.currentUser.uid;
      const novaData = gerarDataExpiracao(15);
      const userRef = doc(db, "usuarios", uid);
      await updateDoc(userRef, { data_expiracao: novaData });
      alert("Plano de 15 dias renovado com sucesso!");
      location.reload();
    });

    document.getElementById("btn-plano-30").addEventListener("click", async () => {
      if (!auth.currentUser) return alert("Fa√ßa login novamente!");
      const uid = auth.currentUser.uid;
      const novaData = gerarDataExpiracao(30);
      const userRef = doc(db, "usuarios", uid);
      await updateDoc(userRef, { data_expiracao: novaData });
      alert("Plano de 30 dias renovado com sucesso!");
      location.reload();
    });

    // ==================== PART√çCULAS DO HERO SECTION ====================
    function createHeroParticles() {
      const container = document.getElementById('heroParticles');
      const particleCount = 15;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // Posi√ß√£o inicial aleat√≥ria
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        
        // Delay aleat√≥rio para anima√ß√£o
        particle.style.animationDelay = Math.random() * 8 + 's';
        
        // Dura√ß√£o aleat√≥ria
        particle.style.animationDuration = (6 + Math.random() * 4) + 's';
        
        container.appendChild(particle);
      }
    }

    // Criar part√≠culas ao carregar
    createHeroParticles();

    // ==================== SLIDESHOW PREMIUM COM CROSSFADE ====================
    class CardSlideshow {
      constructor() {
        this.cards = document.querySelectorAll('.carousel-3d-item[data-images]');
        this.intervals = new Map();
        this.init();
      }

      init() {
        this.cards.forEach(card => {
          try {
            const images = JSON.parse(card.getAttribute('data-images'));
            if (images && images.length >= 2) {
              // Preload das imagens
              images.forEach(src => {
                const img = new Image();
                img.src = src;
              });
              
              let currentImageIndex = 0;
              let isTransitioning = false;
              const cardBg = card.querySelector('.card-bg');
              
              // Transi√ß√£o crossfade moderna e suave
              const interval = setInterval(() => {
                if (isTransitioning) return;
                isTransitioning = true;
                
                currentImageIndex = (currentImageIndex + 1) % images.length;
                
                // Adiciona classe de fade out com zoom
                cardBg.classList.add('fade-out');
                
                // Trocar imagem ap√≥s transi√ß√£o completa
                setTimeout(() => {
                  cardBg.src = images[currentImageIndex];
                  cardBg.classList.remove('fade-out');
                  
                  setTimeout(() => {
                    isTransitioning = false;
                  }, 1200);
                }, 1200);
              }, 5000); // Troca a cada 5 segundos
              
              this.intervals.set(card, interval);
            }
          } catch (e) {
            console.warn('Erro ao processar imagens do card:', e);
          }
        });
      }

      destroy() {
        this.intervals.forEach(interval => clearInterval(interval));
        this.intervals.clear();
      }
    }

    // ==================== CARROSSEL NETFLIX - 3 CARDS FIXOS ====================
    class Carousel3D {
      constructor() {
        this.container = document.querySelector('.carousel-3d-container');
        this.items = Array.from(document.querySelectorAll('.carousel-3d-item'));
        this.prevBtn = document.getElementById('prevBtn');
        this.nextBtn = document.getElementById('nextBtn');
        this.total = this.items.length;
        this.currentIndex = 0;
        this.isAnimating = false;
        
        this.updatePositions();
        this.attachEvents();
      }

      // Calcula os √≠ndices dos 3 cards vis√≠veis
      getVisibleIndices() {
        const left = (this.currentIndex - 1 + this.total) % this.total;
        const center = this.currentIndex;
        const right = (this.currentIndex + 1) % this.total;
        return { left, center, right };
      }

      updatePositions() {
        const { left, center, right } = this.getVisibleIndices();
        
        this.items.forEach((item, i) => {
          // Remove todas as classes de posi√ß√£o
          item.classList.remove('pos-left', 'pos-center', 'pos-right');
          
          // Aplica a classe correta
          if (i === left) {
            item.classList.add('pos-left');
          } else if (i === center) {
            item.classList.add('pos-center');
          } else if (i === right) {
            item.classList.add('pos-right');
          }
        });
      }

      prev() {
        if (this.isAnimating) return;
        this.isAnimating = true;
        
        this.currentIndex = (this.currentIndex - 1 + this.total) % this.total;
        this.updatePositions();
        
        setTimeout(() => {
          this.isAnimating = false;
        }, 600);
      }

      next() {
        if (this.isAnimating) return;
        this.isAnimating = true;
        
        this.currentIndex = (this.currentIndex + 1) % this.total;
        this.updatePositions();
        
        setTimeout(() => {
          this.isAnimating = false;
        }, 600);
      }

      attachEvents() {
        this.prevBtn.addEventListener('click', (e) => {
          e.preventDefault();
          this.prev();
        });
        
        this.nextBtn.addEventListener('click', (e) => {
          e.preventDefault();
          this.next();
        });

        // Setas do teclado
        document.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowLeft') this.prev();
          else if (e.key === 'ArrowRight') this.next();
        });
        
        // Click nos cards laterais para navegar
        this.items.forEach((item, i) => {
          item.addEventListener('click', () => {
            const { left, right } = this.getVisibleIndices();
            if (i === left) this.prev();
            else if (i === right) this.next();
          });
        });
      }
    }

    // Inicializa o carrossel e slideshow quando o DOM estiver pronto
    document.addEventListener('DOMContentLoaded', () => {
      const carousel = new Carousel3D();
      const slideshow = new CardSlideshow();
      
      console.log('‚ú® Carrossel 3D e Slideshow inicializados!');
    });
  </script>
</body>
</html>