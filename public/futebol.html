<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚öΩ Jogos da Rodada - Orion</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<style>
  body {
    background: radial-gradient(circle at center, #1a0033 0%, #0b001a 100%);
    color: white;
    font-family: 'Poppins', sans-serif;
    overflow-x: hidden;
    min-height: 100vh;
    position: relative;
  }

  /* Estrelas suaves animadas */
  .star {
    position: absolute;
    background: white;
    border-radius: 50%;
    opacity: 0.25;
    animation: moveStar linear infinite;
  }

  @keyframes moveStar {
    from { transform: translateY(0); opacity: 0.25; }
    to { transform: translateY(-1000px); opacity: 0; }
  }

  header {
    text-align: center;
    padding: 3rem 1rem 2rem;
    z-index: 10;
    position: relative;
  }

  header img {
    width: 140px;
    margin: 0 auto 1rem;
    filter: drop-shadow(0 0 15px rgba(150, 100, 255, 0.6));
  }

  header h1 {
    font-size: 2.5rem;
    font-weight: bold;
    color: #b694ff;
    text-shadow: 0 0 10px #7b4eff, 0 0 25px #3f1b8a;
  }

  header p, #rodada {
    color: #bfaeff;
    font-size: 1.1rem;
    margin-top: 0.5rem;
  }

  /* Bot√µes de ligas */
  .liga-btn {
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.2);
    backdrop-filter: blur(8px);
    color: white;
    transition: all 0.3s ease;
  }

  .liga-btn:hover, .liga-btn.active {
    background: rgba(255,255,255,0.25);
    transform: scale(1.05);
  }

  /* Cards dos jogos */
  .card-jogo {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.15);
    backdrop-filter: blur(10px);
    border-radius: 1rem;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: all 0.3s;
  }

  .card-jogo:hover {
    background: rgba(255,255,255,0.12);
    transform: scale(1.02);
  }

  footer {
    text-align: center;
    margin-top: 3rem;
    padding: 2rem 1rem;
    border-top: 1px solid rgba(255,255,255,0.1);
    font-size: 0.875rem;
    color: #aaa6ff;
  }
</style>
</head>
<body>

<script>
  // Estrelas
  for(let i=0;i<150;i++){
    const star=document.createElement('div');
    star.className='star';
    const size=Math.random()*2+1;
    star.style.width=size+'px';
    star.style.height=size+'px';
    star.style.top=Math.random()*window.innerHeight+'px';
    star.style.left=Math.random()*window.innerWidth+'px';
    star.style.animationDuration=(Math.random()*20+10)+'s';
    document.body.appendChild(star);
  }
</script>

<header>
  <img src="/images/logo.png" alt="Orion Logo">
  <h1>‚öΩ Jogos da Rodada</h1>
  <p>üåå Explore os confrontos e resultados do universo Orion!</p>
  <div id="rodada"></div>
</header>

<div class="flex flex-wrap justify-center gap-3 relative z-10">
  <button class="liga-btn px-4 py-2 rounded-full" data-league="BSA">üáßüá∑ S√©rie A</button>
  <button class="liga-btn px-4 py-2 rounded-full" data-league="PL">üè¥ Premier League</button>
  <button class="liga-btn px-4 py-2 rounded-full" data-league="BL1">üá©üá™ Bundesliga</button>
  <button class="liga-btn px-4 py-2 rounded-full" data-league="PD">üá™üá∏ La Liga</button>
  <button class="liga-btn px-4 py-2 rounded-full" data-league="SA">üáÆüáπ Serie A</button>
  <button class="liga-btn px-4 py-2 rounded-full" data-league="CL">üèÜ Champions League</button>
</div>

<main class="max-w-3xl mx-auto mt-8 px-4 relative z-10">
  <div id="jogos-hoje" class="grid gap-4"></div>
</main>

<footer>
  ¬© 2025 Orion Creator ‚Äî Todos os direitos reservados
</footer>

<script>
const jogosContainer = document.getElementById('jogos-hoje');
const rodadaEl = document.getElementById('rodada');
const botoesLiga = document.querySelectorAll('.liga-btn');

const statusPT = {
  "SCHEDULED": "Agendado",
  "LIVE": "Ao Vivo",
  "IN_PLAY": "Em Andamento",
  "PAUSED": "Pausado",
  "FINISHED": "Finalizado",
  "POSTPONED": "Adiado",
  "CANCELLED": "Cancelado"
};

async function carregarJogos(leagueCode='BSA'){
  jogosContainer.innerHTML = '<p class="text-center text-purple-300 animate-pulse">üîÑ Carregando jogos...</p>';
  rodadaEl.textContent='';

  try{
    const res = await fetch(`/api/jogos?league=${leagueCode}`);
    const data = await res.json();

    if(!data.matches || data.matches.length===0){
      jogosContainer.innerHTML='<p class="text-center text-gray-400">‚ö†Ô∏è Nenhum jogo encontrado para esta rodada.</p>';
      return;
    }

    if(data.matchday) rodadaEl.textContent=`Rodada ${data.matchday}`;

    jogosContainer.innerHTML='';
    data.matches.forEach(jogo=>{
      const dataJogo = new Date(jogo.utcDate || jogo.date);
      const dia = dataJogo.toLocaleDateString('pt-BR', { weekday:'short', day:'2-digit', month:'2-digit' });
      const hora = dataJogo.toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'});
      const status=statusPT[jogo.status]||jogo.status;

      const card=`
      <div class="card-jogo">
        <div class="text-center font-semibold">${jogo.homeTeam.name}</div>
        <div class="text-center">
          <span class="text-lg font-bold">${dia} ${hora}</span>
          <p class="text-sm text-gray-300">${status}</p>
        </div>
        <div class="text-center font-semibold">${jogo.awayTeam.name}</div>
      </div>`;
      jogosContainer.innerHTML+=card;
    });

  }catch(err){
    console.error(err);
    jogosContainer.innerHTML='<p class="text-center text-red-400">‚ùå Erro ao carregar dados da API.</p>';
  }
}

// Liga padr√£o
carregarJogos();

botoesLiga.forEach(botao=>{
  botao.addEventListener('click',()=>{
    botoesLiga.forEach(b=>b.classList.remove('active'));
    botao.classList.add('active');
    carregarJogos(botao.dataset.league);
  });
});
</script>
</body>
</html>
